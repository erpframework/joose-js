#summary The augment/inner example
#labels Featured

= Synopsis =

{{{
Module("Page", function (m) {
    Class("Document", {
        has: {
            body: {
                is: rw,
                init: ""
            }
        },
        
        methods: {
            create: function () {
                this.openPage();
                this.INNER()
                this.closePage();
            },
            appendBody: function (appendage) {
                this.setBody(this.getBody() + appendage)
            },
            openPage:  function () { this.appendBody("<page>") },
            closePage: function () { this.appendBody("</page>")}
        }
    });
    
    Class("DocumentWithHeadersAndFooters", {
        isa: m.Document,
        
        augment: {
            create: function () {
                this.createHeader();
                this.INNER();
                this.createFooter();
            }
        },
        
        methods: {
            createHeader: function () { this.appendBody("<header/>") },
            createFooter: function () { this.appendBody("<footer/>") }
        }
        
    })
})

Class("TPSReport", {
    isa: Page.DocumentWithHeadersAndFooters,
    
    augment: {
        create: function () {
            this.createTPSReport()
        }
    },
    
    methods: {
        createTPSReport: function () {
            this.appendBody('<report type="tps"/>')
        }
    }
    
});

var tpsReport = new TPSReport();

tpsReport.create()

var body =tpsReport.getBody()

// body now has the value: '<page><header/><report type="tps"/><footer/></page>'

}}}

= Credits =

This cookbook entry is based on [http://search.cpan.org/~stevan/Moose-0.40/lib/Moose/Cookbook/Recipe7.pod Stevan's entry for Moose]. Thank you so much!